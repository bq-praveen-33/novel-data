{
  "online_content": {
    "type": "doc",
    "content": [
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "text": "new content here"
          }
        ]
      },
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "marks": [
              {
                "type": "bold"
              }
            ],
            "text": "Notion’s data model and growth"
          }
        ]
      },
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "text": "Everything you see in Notion—texts, images, headings, lists, database rows, pages, etc—despite differing front-end representations and behaviors, is modeled as a \"block\" entity in the back end and stored in the Postgres database with a consistent structure, schema, and associated metadata (learn more about "
          },
          {
            "type": "text",
            "marks": [
              {
                "type": "link",
                "attrs": {
                  "href": "https://www.notion.so/blog/data-model-behind-notion",
                  "target": "_self",
                  "rel": "nofollow",
                  "class": "text-muted-foreground underline underline-offset-[3px] hover:text-primary transition-colors cursor-pointer InlineTextLink_inlineLink__oN8YM InlineTextLink_colorInherit__oGlTG"
                }
              },
              {
                "type": "underline"
              }
            ],
            "text": "Notion's data model"
          },
          {
            "type": "text",
            "text": ")."
          }
        ]
      },
      {
        "type": "image",
        "attrs": {
          "src": "https://www.notion.com/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fspoqsaf9291f%2F4rrziPDb4W1MWIJd9DU75F%2Fea42dabcf0bd96470958a47e4f80c1d2%2FData_Lake_0.png&w=3840&q=75",
          "alt": "Data Lake initial image",
          "title": null,
          "width": 1488,
          "height": 582
        }
      },
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "text": "Everything in Notion is a block, and these blocks are made up of data. Lots and lots of data."
          }
        ]
      },
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "text": "All this block data has been doubling every 6 to 12 months, driven by user activity and content creation. At the start of 2021 we had more than 20 billion block rows in Postgres, and this figure has since grown to more than two hundred billion blocks—a data volume of hundreds of terabytes, even when compressed."
          }
        ]
      },
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "text": "To manage this data growth while enhancing the user experience, we’ve strategically expanded our database infrastructure from one Postgres instance to a more complex sharded architecture. We began in 2021 by "
          },
          {
            "type": "text",
            "marks": [
              {
                "type": "link",
                "attrs": {
                  "href": "https://www.notion.so/blog/sharding-postgres-at-notion",
                  "target": "_self",
                  "rel": "nofollow",
                  "class": "text-muted-foreground underline underline-offset-[3px] hover:text-primary transition-colors cursor-pointer InlineTextLink_inlineLink__oN8YM InlineTextLink_colorInherit__oGlTG"
                }
              },
              {
                "type": "underline"
              }
            ],
            "text": "horizontally sharding our Postgres database into 32 physical instances, each comprising 15 logical shards"
          },
          {
            "type": "text",
            "text": ", and continued in 2023 by "
          },
          {
            "type": "text",
            "marks": [
              {
                "type": "link",
                "attrs": {
                  "href": "https://www.notion.so/blog/the-great-re-shard",
                  "target": "_self",
                  "rel": "nofollow",
                  "class": "text-muted-foreground underline underline-offset-[3px] hover:text-primary transition-colors cursor-pointer InlineTextLink_inlineLink__oN8YM InlineTextLink_colorInherit__oGlTG"
                }
              },
              {
                "type": "underline"
              }
            ],
            "text": "increasing the number of physical instances to 96, with five logical shards per instance"
          },
          {
            "type": "text",
            "text": ". Thus we maintained a total of 480 logical shards while ensuring long-term scalable data management and retrieval capabilities."
          }
        ]
      },
      {
        "type": "image",
        "attrs": {
          "src": "https://raw.githubusercontent.com/bq-praveen-33/novel-data/main/docs/notes/68a81afe27a2d63633c65584/images/image.png-5666f00a-26ba-4fd9-be8f-8850f6e4f9ba",
          "alt": null,
          "title": null,
          "width": null,
          "height": null
        }
      }
    ]
  },
  "online_content_time": "2025-08-22T07:25:49.500Z"
}